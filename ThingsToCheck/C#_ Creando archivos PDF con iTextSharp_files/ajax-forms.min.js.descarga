window.mc4wpAjaxForms=function(){function a(){return h={log:function(a){window.console&&window.console.log("MailChimp for WP: "+a)}},void 0===i.fn.ajaxForm?void h.log("jquery-forms.js is not loaded properly. Not activating AJAX."):void i(".mc4wp-ajax form").ajaxForm({data:{action:"mc4wp_submit_form"},dataType:"json",url:mc4wp_vars.ajaxurl,delegation:!0,success:c,error:d,beforeSubmit:b})}function b(a,b){var c,d;g=b.parent("div.mc4wp-form"),g.find(".mc4wp-alert").hide(),g.find("#mc4wp-mailchimp-error").remove(),c=g.find(".mc4wp-ajax-loader"),d=b.find("input[type=submit]"),d.attr("disabled","disabled"),c.insertAfter(d).css("display","inline-block"),parseInt(c.css("margin-left"))<5&&c.css("margin-left","5px");var e=i.Event("mc4wp.submit");e.form=g,i(document).trigger(e)}function c(a){var b;b=g.find(".mc4wp-ajax-loader"),b.hide();var c=g.find("input[type=submit]");c.removeAttr("disabled"),a.success?e(a.redirect,a.hide_form,a.data):f(a.error,a.data)}function d(a){h.log(a)}function e(a,b,c){var d=g.find("form");g.find("div.mc4wp-success-message").show(),d.trigger("reset"),a&&""!=a&&window.setTimeout(function(){window.location.replace(a)},2500),b&&d.hide();var e=i.Event("mc4wp.success");e.form=g,e.formData=c,i(document).trigger(e)}function f(a,b){var c,d;c=""==a.type?"error":a.type,"no_lists_selected"===c&&(c="error",h.log("You didn't select a MailChimp list to subscribe to in the form settings.")),d=g.find(".mc4wp-"+c+"-message").show(),a.show&&"error"==c&&""!=a.mailchimp_error&&i('<div class="mc4wp-alert mc4wp-notice" id="mc4wp-mailchimp-error"><strong>MailChimp returned this error:</strong><br>'+a.mailchimp_error+"<br><br><em>this message is only visible to administrators</em></div>").insertAfter(d);var e=i.Event("mc4wp.error");e.form=g,e.formData=b,i(document).trigger(e)}var g,h,i=window.jQuery;return{init:function(){a()}}}(),jQuery(document).ready(function(){mc4wpAjaxForms.init()});